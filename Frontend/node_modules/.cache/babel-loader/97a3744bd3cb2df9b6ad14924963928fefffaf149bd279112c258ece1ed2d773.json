{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\web_project_01\\\\web_project\\\\src\\\\Component\\\\Admin\\\\AddAdminUser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useLocation } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport NavBar from './NavBar';\nimport validator from 'validator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddAdminUser = () => {\n  _s();\n  const [otpSent, setOtpSent] = useState(false);\n  const [otpVerified, setOtpVerified] = useState(false);\n  const [fullNameError, setFullNameError] = useState('');\n  const searchParams = new URLSearchParams(useLocation().search);\n  const token = sessionStorage.getItem('token');\n  const adminId = sessionStorage.getItem('adminId');\n  const id = searchParams.get('id');\n  const [telephoneError, setTelephoneError] = useState('');\n  const navigate = useNavigate();\n  const [dobError, setDobError] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [passwordMatch, setPasswordMatch] = useState(true);\n  const [resendCooldown, setResendCooldown] = useState(0);\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showPassword1, setShowPassword1] = useState(false);\n  const [formData, setFormData] = useState({\n    fullName: '',\n    nickName: '',\n    telephone: '',\n    dob: '',\n    address: '',\n    gender: '',\n    residence: '',\n    photo: null,\n    email: '',\n    password: ''\n  });\n  useEffect(() => {\n    setEmailError('');\n  }, [formData.email]);\n  const validateEmail = () => {\n    if (!validator.isEmail(formData.email)) {\n      setEmailError('Invalid email format');\n      return false;\n    } else {\n      setEmailError('');\n      return true;\n    }\n  };\n  const validatePassword = () => {\n    const passwordRegex = /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\\W)(?!.* ).{8,16}$/;\n    const isValid = passwordRegex.test(formData.password);\n    console.log('Password:', formData.password);\n    console.log('Is Valid:', isValid);\n    if (isValid) {\n      // Password meets the criteria\n      setPasswordError('');\n      return true;\n    } else {\n      // Password does not meet the criteria\n      setPasswordError('Password should be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one symbol.');\n      return false;\n    }\n  };\n  const togglePasswordVisibility = () => {\n    setShowPassword(prevShowPassword => !prevShowPassword);\n  };\n  const togglePasswordVisibility1 = () => {\n    setShowPassword1(prevShowPassword => !prevShowPassword);\n  };\n  const validateConfirmPassword = () => {\n    if (formData.password !== formData.confirmPassword) {\n      setConfirmPasswordError('Passwords do not match.');\n      return false;\n    } else {\n      setConfirmPasswordError('');\n      return true;\n    }\n  };\n  const validateDob = () => {\n    const dobRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\n    if (!dobRegex.test(formData.dob)) {\n      setDobError('Date of Birth should be in the format YYYY-MM-DD.');\n      return false;\n    } else {\n      setDobError('');\n      return true;\n    }\n  };\n  const validateFullName = () => {\n    if (!formData.fullName.trim()) {\n      setFullNameError('Full Name is required.');\n      return false;\n    } else {\n      setFullNameError('');\n      return true;\n    }\n  };\n  const handleSendOTP = async () => {\n    if (!validateEmail() || !validateFullName() || !validateTelephone() || !validateDob() || !validatePassword() || !validateConfirmPassword()) {\n      alert(\"Invalid input\");\n    } else {\n      try {\n        await axios.post('http://localhost:8080/api/v1/otp/sendOTP', {\n          email: formData.email\n        });\n        setOtpSent(true);\n        setResendCooldown(120);\n      } catch (error) {\n        alert('Failed to send OTP. Please try again.');\n      }\n    }\n  };\n  const handleResendOTP = async () => {\n    try {\n      await axios.post('http://localhost:8080/api/v1/otp/reSendOTP', {\n        email: formData.email\n      });\n      setResendCooldown(120); // Reset the cooldown to 2 minutes\n    } catch (error) {}\n  };\n  const handleVerifyOTP = async () => {\n    try {\n      const data = new FormData();\n      data.append('email', formData.email);\n      data.append('otp', parseInt(formData.otp, 10));\n      const response = await fetch(`http://localhost:8080/api/v1/otp/verifyOTP`, {\n        method: 'POST',\n        body: data,\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setOtpVerified(true);\n    } catch (error) {\n      alert('Incorrect OTP entered');\n    }\n  };\n  useEffect(() => {\n    let interval;\n    if (resendCooldown > 0) {\n      interval = setInterval(() => {\n        setResendCooldown(prev => Math.max(prev - 1, 0));\n      }, 600);\n    }\n    return () => clearInterval(interval);\n  }, [resendCooldown]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    let newValue = value;\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    if (name === 'confirmPassword') {\n      setPasswordMatch(formData.password === value);\n    }\n    if (name === 'telephoneNumber') {\n      // Remove any non-digit characters\n      newValue = newValue.replace(/\\D/g, '');\n      // Ensure the number starts with 0 and has 10 digits\n      if (newValue.length > 0) {\n        newValue = '0' + newValue.substring(0, 9);\n      }\n    }\n  };\n  const handleFileChange = e => {\n    const allowedTypes = ['image/jpeg', 'image/png'];\n    if (e.target.files && e.target.files.length > 0) {\n      const file = e.target.files[0];\n\n      // Validate file type\n      if (allowedTypes.includes(file.type)) {\n        setFormData({\n          ...formData,\n          [e.target.name]: file\n        });\n\n        // Read the image and set the preview\n        const reader = new FileReader();\n        reader.onload = event => {\n          const imagePreview = event.target.result;\n          setFormData(prevData => ({\n            ...prevData,\n            [`${e.target.name}Preview`]: imagePreview\n          }));\n        };\n        reader.readAsDataURL(file);\n      } else {\n        alert('Invalid file type. Please upload a JPEG or PNG image.');\n      }\n    } else {\n      // Clear the file and the preview if the user deselects the file\n      setFormData(prevData => ({\n        ...prevData,\n        [e.target.name]: null,\n        [`${e.target.name}Preview`]: null\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateEmail() || !validateFullName() || !validateTelephone() || !validateDob() || !validatePassword()) {\n      alert(\"Not achive required criteria\");\n      return;\n    } else {\n      if (formData.email !== '') {\n        if (formData.nickName !== '' && formData.address !== '' && formData.gender !== '') {\n          const data = new FormData();\n          data.append('request', JSON.stringify(formData));\n          try {\n            const response = await fetch(`http://localhost:8080/api/v1/admin/register`, {\n              method: 'POST',\n              body: data,\n              headers: {\n                'Authorization': `Bearer ${token}`\n              }\n            });\n            if (response.ok) {\n              alert('User saved successfully');\n              console.log('User saved successfully');\n              navigate('/adminPage');\n              window.location.reload();\n            } else if (response.status == '400') {\n              const error = await response.text();\n              alert(`Error saving user: Email already exist.`);\n            } else {\n              const error = await response.text();\n              setErrorMessage(`Error saving user: ${error}`);\n              alert(errorMessage);\n              navigate('/adminPage');\n              window.location.reload();\n            }\n          } catch (error) {\n            console.error('Error:', error);\n            setErrorMessage('Error saving user.');\n            alert(errorMessage);\n            navigate('/adminPage');\n            window.location.reload();\n          }\n        } else {\n          alert(\"Please fill out input feilds.\");\n        }\n      } else {\n        alert(\"Please add email.\");\n      }\n    }\n  };\n  const validateTelephone = () => {\n    const telephoneRegex = /^0\\d{9}$/;\n    if (!telephoneRegex.test(formData.telephone)) {\n      setTelephoneError('Telephone should be 10 digits and start with 0.');\n      return false;\n    } else {\n      setTelephoneError('');\n      return true;\n    }\n  };\n  const textStyle = {\n    fontWeight: 'bold',\n    userSelect: 'none'\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"cenetr\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container my-4\",\n        children: /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-4 fs-1\",\n      style: textStyle,\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: \"Add a Admin.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"container my-4 fs-5 text-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row my-4 \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4 \",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Full Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"fullName\",\n            onChange: handleInputChange,\n            className: \"form-control\",\n            required: true,\n            value: formData.fullName,\n            onBlur: validateFullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Nick Name: \\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nickName\",\n            onChange: handleInputChange,\n            value: formData.nickName,\n            className: \"form-control\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row my-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-10 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"E-mail:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            onChange: handleInputChange,\n            className: \"form-control\",\n            value: formData.email,\n            required: true,\n            disabled: otpVerified\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fs-6\",\n            style: {\n              color: 'red'\n            },\n            children: emailError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row my-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Date of Birth:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"dob\",\n            onChange: handleInputChange,\n            onBlur: validateDob,\n            className: \"form-control\",\n            value: formData.dob,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fs-6\",\n            style: {\n              color: 'red'\n            },\n            children: dobError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Address: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"address\",\n            onChange: handleInputChange,\n            className: \"form-control\",\n            value: formData.address,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row my-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Gender:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.gender,\n            name: \"gender\",\n            onChange: handleInputChange,\n            className: \"form-control\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"Select Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"male\",\n              children: \"Male\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"female\",\n              children: \"Female\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Telephone Number: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"telephone\",\n            onChange: handleInputChange,\n            className: \"form-control\",\n            required: true,\n            value: formData.telephoneNumber,\n            onBlur: validateTelephone,\n            placeholder: \"07xxxxxxxx\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fs-6\",\n            style: {\n              color: 'red'\n            },\n            children: telephoneError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row my-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-10\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: showPassword ? 'text' : 'password',\n                onBlur: validatePassword,\n                value: formData.password,\n                name: \"password\",\n                onChange: handleInputChange,\n                className: \"form-control\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-2\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary\",\n                type: \"button\",\n                onClick: togglePasswordVisibility,\n                children: showPassword ? 'Hide' : 'Show'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fs-6\",\n            style: {\n              color: 'red'\n            },\n            children: passwordError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-12 mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1\",\n            children: \"Confirm Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-10\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: showPassword1 ? 'text' : 'password',\n                value: formData.confirmPassword,\n                name: \"confirmPassword\",\n                onBlur: validateConfirmPassword,\n                onChange: handleInputChange,\n                className: \"form-control\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 13\n              }, this), !passwordMatch && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row my-2 \",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-10 col-md-12 mx-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-danger fs-6\",\n                    children: \"Passwords do not match.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-2\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-secondary\",\n                type: \"button\",\n                onClick: togglePasswordVisibility1,\n                children: [showPassword1 ? 'Hide' : 'Show', \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: otpVerified && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-warning m-4\",\n          onClick: handleSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6 m-4\",\n            children: otpSent && !otpVerified && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"px-1\",\n                children: [\"Enter OTP:  \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"otp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleVerifyOTP,\n                class: \"btn btn-warning mx-2\",\n                children: \"Verify OTP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-5 m-4\",\n            children: !otpVerified && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: otpSent ? handleResendOTP : handleSendOTP,\n                disabled: resendCooldown > 0,\n                className: \"btn btn-warning mx-2\",\n                children: otpSent ? 'Resend OTP' : 'Send OTP'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 25\n              }, this), resendCooldown > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Resend cooldown: \", resendCooldown, \" seconds\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row col-10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AddAdminUser, \"YH5CkvKEy9D8EaYXjfGYOnWszPY=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = AddAdminUser;\nexport default AddAdminUser;\nvar _c;\n$RefreshReg$(_c, \"AddAdminUser\");","map":{"version":3,"names":["React","useEffect","useState","axios","useLocation","useNavigate","NavBar","validator","jsxDEV","_jsxDEV","Fragment","_Fragment","AddAdminUser","_s","otpSent","setOtpSent","otpVerified","setOtpVerified","fullNameError","setFullNameError","searchParams","URLSearchParams","search","token","sessionStorage","getItem","adminId","id","get","telephoneError","setTelephoneError","navigate","dobError","setDobError","errorMessage","setErrorMessage","passwordMatch","setPasswordMatch","resendCooldown","setResendCooldown","passwordError","setPasswordError","confirmPasswordError","setConfirmPasswordError","emailError","setEmailError","showPassword","setShowPassword","showPassword1","setShowPassword1","formData","setFormData","fullName","nickName","telephone","dob","address","gender","residence","photo","email","password","validateEmail","isEmail","validatePassword","passwordRegex","isValid","test","console","log","togglePasswordVisibility","prevShowPassword","togglePasswordVisibility1","validateConfirmPassword","confirmPassword","validateDob","dobRegex","validateFullName","trim","handleSendOTP","validateTelephone","alert","post","error","handleResendOTP","handleVerifyOTP","data","FormData","append","parseInt","otp","response","fetch","method","body","headers","interval","setInterval","prev","Math","max","clearInterval","handleInputChange","e","name","value","target","newValue","replace","length","substring","handleFileChange","allowedTypes","files","file","includes","type","reader","FileReader","onload","event","imagePreview","result","prevData","readAsDataURL","handleSubmit","preventDefault","JSON","stringify","ok","window","location","reload","status","text","telephoneRegex","textStyle","fontWeight","userSelect","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","onSubmit","onChange","required","onBlur","disabled","color","telephoneNumber","placeholder","onClick","class","_c","$RefreshReg$"],"sources":["D:/projects/web_project_01/web_project/src/Component/Admin/AddAdminUser.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport NavBar from './NavBar';\r\nimport validator from 'validator';\r\n\r\nconst AddAdminUser = () => {\r\n   const [otpSent, setOtpSent] = useState(false);\r\n    const [otpVerified, setOtpVerified] = useState(false);\r\n    const [fullNameError, setFullNameError] = useState('');\r\n    const searchParams = new URLSearchParams(useLocation().search);\r\n    const token = sessionStorage.getItem('token');\r\n    const adminId = sessionStorage.getItem('adminId')\r\n    const id = searchParams.get('id')\r\n    const [telephoneError, setTelephoneError] = useState(''); \r\n    const navigate = useNavigate();\r\n    const [dobError, setDobError] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState(null);\r\n    const [passwordMatch, setPasswordMatch] = useState(true);\r\n    const [resendCooldown, setResendCooldown] = useState(0);\r\n    const [passwordError, setPasswordError] = useState('');\r\n    const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n    const [emailError, setEmailError] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [showPassword1, setShowPassword1] = useState(false);\r\n\r\n      const [formData, setFormData] = useState({\r\n        fullName: '',\r\n        nickName: '',\r\n        telephone: '',\r\n        dob: '',\r\n        address: '',\r\n        gender: '',\r\n        residence: '',\r\n        photo: null,\r\n        email:'',\r\n        password:''\r\n\r\n      });\r\n    \r\n      useEffect(() => {\r\n        setEmailError('');\r\n      }, [formData.email]);\r\n    \r\n      const validateEmail = () => {\r\n        if (!validator.isEmail(formData.email)) {\r\n          setEmailError('Invalid email format');\r\n          return false;\r\n        } else {\r\n          setEmailError('');\r\n          return true;\r\n        }\r\n      };\r\n    \r\n      const validatePassword = () => {\r\n        const passwordRegex = /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*\\W)(?!.* ).{8,16}$/;\r\n        \r\n        const isValid = passwordRegex.test(formData.password);\r\n        console.log('Password:', formData.password);\r\n        console.log('Is Valid:', isValid);\r\n      \r\n        if (isValid) {\r\n          // Password meets the criteria\r\n          setPasswordError('');\r\n          return true;\r\n        } else {\r\n          // Password does not meet the criteria\r\n          setPasswordError('Password should be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one symbol.');\r\n          return false;\r\n        }\r\n      };  \r\n\r\n      const togglePasswordVisibility = () => {\r\n        setShowPassword((prevShowPassword) => !prevShowPassword);\r\n      };\r\n\r\n      const togglePasswordVisibility1 = () => {\r\n        setShowPassword1((prevShowPassword) => !prevShowPassword);\r\n      };\r\n    \r\n      const validateConfirmPassword = () => {\r\n        if (formData.password !== formData.confirmPassword) {\r\n          setConfirmPasswordError('Passwords do not match.');\r\n          return false;\r\n        } else {\r\n          setConfirmPasswordError('');\r\n          return true;\r\n        }\r\n      };\r\n    \r\n      const validateDob = () => {\r\n        const dobRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\r\n        if (!dobRegex.test(formData.dob)) {\r\n          setDobError('Date of Birth should be in the format YYYY-MM-DD.');\r\n          return false;\r\n        } else {\r\n          setDobError('');\r\n          return true;\r\n        }\r\n      };\r\n    \r\n      const validateFullName = () => {\r\n        if (!formData.fullName.trim()) {\r\n          setFullNameError('Full Name is required.');\r\n          return false;\r\n        } else {\r\n          setFullNameError('');\r\n          return true;\r\n        }\r\n      };\r\n    \r\n      const handleSendOTP = async () => {\r\n        if (\r\n          !validateEmail() ||\r\n          !validateFullName() ||\r\n          !validateTelephone() ||\r\n          !validateDob() ||\r\n          !validatePassword() ||\r\n          !validateConfirmPassword()\r\n        ) {\r\n          alert(\"Invalid input\")\r\n    \r\n        }else{\r\n             try {\r\n                await axios.post('http://localhost:8080/api/v1/otp/sendOTP', { email: formData.email });\r\n                setOtpSent(true);\r\n                setResendCooldown(120);\r\n                } catch (error) {\r\n                alert('Failed to send OTP. Please try again.');\r\n            }\r\n        }       \r\n    \r\n    \r\n      };\r\n    \r\n      const handleResendOTP = async () => {\r\n        try {\r\n          await axios.post('http://localhost:8080/api/v1/otp/reSendOTP', {\r\n            email: formData.email,\r\n          });\r\n          setResendCooldown(120); // Reset the cooldown to 2 minutes\r\n        } catch (error) {\r\n        }\r\n      };\r\n    \r\n      const handleVerifyOTP = async () => {\r\n        try {\r\n            const data = new FormData();\r\n            data.append('email', formData.email);\r\n            data.append('otp', parseInt(formData.otp, 10));\r\n\r\n            const response = await fetch(`http://localhost:8080/api/v1/otp/verifyOTP`, {\r\n                method: 'POST',\r\n                body: data,\r\n                headers: {\r\n                  'Authorization': `Bearer ${token}`,\r\n                },\r\n              });\r\n    \r\n            \r\n            setOtpVerified(true);\r\n        } catch (error) {\r\n            alert('Incorrect OTP entered');\r\n        }\r\n      };\r\n    \r\n    \r\n      useEffect(() => {\r\n        let interval;\r\n        if (resendCooldown > 0) {\r\n          interval = setInterval(() => {\r\n            setResendCooldown((prev) => Math.max(prev - 1, 0));\r\n          }, 600);\r\n        }\r\n        return () => clearInterval(interval);\r\n      }, [resendCooldown]);\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        let newValue = value;\r\n      setFormData({ ...formData, [e.target.name]: e.target.value });\r\n      if (name === 'confirmPassword') {\r\n        setPasswordMatch(formData.password === value);\r\n      }\r\n\r\n      if (name === 'telephoneNumber') {\r\n        // Remove any non-digit characters\r\n        newValue = newValue.replace(/\\D/g, '');\r\n        // Ensure the number starts with 0 and has 10 digits\r\n        if (newValue.length > 0) {\r\n          newValue = '0' + newValue.substring(0, 9);\r\n        }\r\n      }\r\n    \r\n    };\r\n    const handleFileChange = (e) => {\r\n        const allowedTypes = ['image/jpeg', 'image/png'];\r\n      \r\n        if (e.target.files && e.target.files.length > 0) {\r\n            const file = e.target.files[0];\r\n        \r\n            // Validate file type\r\n            if (allowedTypes.includes(file.type)) {\r\n                setFormData({ ...formData, [e.target.name]: file });\r\n        \r\n                // Read the image and set the preview\r\n                const reader = new FileReader();\r\n        \r\n                reader.onload = (event) => {\r\n                    const imagePreview = event.target.result;\r\n                    setFormData((prevData) => ({ ...prevData, [`${e.target.name}Preview`]: imagePreview }));\r\n                };\r\n        \r\n                reader.readAsDataURL(file);\r\n            } else {\r\n                alert('Invalid file type. Please upload a JPEG or PNG image.');\r\n            }\r\n        } else {\r\n            // Clear the file and the preview if the user deselects the file\r\n            setFormData((prevData) => ({ ...prevData, [e.target.name]: null, [`${e.target.name}Preview`]: null }));\r\n        }\r\n    };\r\n    \r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n        \r\n    if( \r\n        !validateEmail() ||\r\n        !validateFullName() ||\r\n        !validateTelephone() ||\r\n        !validateDob() ||\r\n        !validatePassword() \r\n ){\r\n                alert(\"Not achive required criteria\");\r\n                return;\r\n    }else{\r\n\r\n       \r\n        \r\n    if(formData.email !== ''){ \r\n      if(formData.nickName !== '' && formData.address !== '' && formData.gender !== ''){\r\n const data = new FormData();\r\n            data.append('request', JSON.stringify(formData));\r\n\r\n  \r\n      try {\r\n        const response = await fetch(`http://localhost:8080/api/v1/admin/register`, {\r\n          method: 'POST',\r\n          body: data,\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n  \r\n        if (response.ok) {\r\n          alert('User saved successfully')\r\n          console.log('User saved successfully');\r\n          navigate('/adminPage');\r\n          window.location.reload();\r\n        } else if(response.status == '400') {\r\n          const error = await response.text();\r\n\r\n          alert(`Error saving user: Email already exist.`)\r\n        }else{\r\n            const error = await response.text();\r\n            setErrorMessage(`Error saving user: ${error}`);\r\n            alert(errorMessage)\r\n            navigate('/adminPage');\r\n            window.location.reload();\r\n        }\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n        setErrorMessage('Error saving user.');\r\n        alert(errorMessage)\r\n        navigate('/adminPage');\r\n        window.location.reload();\r\n      } \r\n      } else{\r\n        alert(\"Please fill out input feilds.\")\r\n      }       \r\n           \r\n    }else{\r\n        alert(\"Please add email.\")\r\n    }\r\n        }\r\n      \r\n      \r\n    };\r\n  \r\n    const validateTelephone = () => {\r\n      const telephoneRegex = /^0\\d{9}$/;\r\n      if (!telephoneRegex.test(formData.telephone)) {\r\n        setTelephoneError('Telephone should be 10 digits and start with 0.');\r\n        return false;\r\n      } else {\r\n        setTelephoneError('');\r\n        return true;\r\n      }\r\n    };\r\n    \r\n  const textStyle = {\r\n    fontWeight: 'bold',\r\n    userSelect: 'none',\r\n  };\r\n    return (\r\n    <>\r\n     <cenetr><div className='container my-4'><NavBar /></div></cenetr>\r\n     <div className='container my-4 fs-1' style={textStyle}>\r\n        <center>Add a Admin.</center>\r\n      </div>\r\n      <form onSubmit={handleSubmit} className='container my-4 fs-5 text-left'>\r\n\r\n        \r\n        <div className='row my-4 '>\r\n          \r\n          <div className='col-lg-5 col-md-12 mx-4 '>\r\n            <label className='mb-1'>Full Name: </label>\r\n            <input  type=\"text\" name=\"fullName\" onChange={handleInputChange} className='form-control' required value={formData.fullName} onBlur={validateFullName} />\r\n          </div>\r\n          <div className='col-lg-5 col-md-12 mx-4'>\r\n            <label className='mb-1'>Nick Name: \"</label>\r\n            <input type=\"text\" name=\"nickName\" onChange={handleInputChange} value={formData.nickName} className='form-control' required />\r\n          </div>\r\n        </div>\r\n        <div className='row my-4'>\r\n        <div className='col-lg-10 col-md-12 mx-4'>\r\n            <label className='mb-1'>E-mail:</label>\r\n            <input type=\"email\" name=\"email\" onChange={handleInputChange} className='form-control' value={formData.email} required disabled={otpVerified} />\r\n            <div className ='fs-6'  style={{ color: 'red' }}>{emailError}</div>\r\n        </div>\r\n        </div>       \r\n        <div className='row my-4'>\r\n          <div className='col-lg-5 col-md-12 mx-4'>\r\n            <label className='mb-1'>Date of Birth:</label>\r\n            <input type=\"text\" name=\"dob\" onChange={handleInputChange} onBlur={validateDob} className='form-control' value={formData.dob} required/>\r\n            <div className ='fs-6'  style={{ color: 'red' }}>{dobError}</div>    \r\n          </div>\r\n          <div className='col-lg-5 col-md-12 mx-4'>\r\n            <label className='mb-1'>Address: </label>\r\n            <input  type=\"text\" name=\"address\" onChange={handleInputChange} className='form-control' value={formData.address} required />         \r\n          </div>\r\n        </div>\r\n  \r\n        <div className='row my-4'>\r\n              <div className='col-lg-5 col-md-12 mx-4'>\r\n                <label className='mb-1'>Gender:</label>\r\n                <select value={formData.gender} name=\"gender\" onChange={handleInputChange} className='form-control' required>\r\n                  <option value=\"\" disabled>Select Gender</option>\r\n                  <option value=\"male\">Male</option>\r\n                  <option value=\"female\">Female</option>\r\n                </select>\r\n              </div>\r\n\r\n          <div className='col-lg-5 col-md-12 mx-4'>\r\n            <label className='mb-1'>Telephone Number: </label>\r\n            <input name=\"telephone\" onChange={handleInputChange} className='form-control' required value={formData.telephoneNumber}  onBlur={validateTelephone} placeholder=\"07xxxxxxxx\" ></input>\r\n            <div className ='fs-6' style={{ color: 'red' }}>{telephoneError}</div>\r\n          </div>\r\n        </div>\r\n                 {/* Password */}\r\n      <div className='row my-4'>\r\n        <div className='col-lg-5 col-md-12 mx-4'>\r\n          <label className='mb-1'>Password:</label>\r\n          <div className='row'>\r\n            <div className='col-lg-10'>\r\n                <input type={showPassword ? 'text' : 'password'} onBlur={validatePassword} value={formData.password} name=\"password\" onChange={handleInputChange} className='form-control' required/>\r\n            </div>\r\n            <div className='col-lg-2'>\r\n                    <button\r\n                    className='btn btn-outline-secondary'\r\n                    type='button'\r\n                    onClick={togglePasswordVisibility}\r\n                >\r\n                    {showPassword ? 'Hide' : 'Show'} \r\n                </button>\r\n            </div>\r\n            \r\n          </div>\r\n\r\n          \r\n          <div className ='fs-6'  style={{ color: 'red' }}>{passwordError}</div>\r\n        </div>\r\n\r\n        <div className='col-lg-5 col-md-12 mx-4'>\r\n          <label className='mb-1'>Confirm Password:</label>\r\n          <div className='row'>\r\n            <div className='col-lg-10'>\r\n            <input type={showPassword1 ? 'text' : 'password'} value={formData.confirmPassword} name=\"confirmPassword\" onBlur={validateConfirmPassword} onChange={handleInputChange} className='form-control' required/>\r\n                            {/* Display error message if passwords don't match */}\r\n            {!passwordMatch && (\r\n                <div className=\"row my-2 \">\r\n                <div className=\"col-lg-10 col-md-12 mx-4\">\r\n                    <span className=\"text-danger fs-6\">Passwords do not match.</span>\r\n                </div>\r\n                </div>\r\n            )}\r\n            </div>\r\n            <div className='col-lg-2'>\r\n                    <button\r\n                    className='btn btn-outline-secondary'\r\n                    type='button'\r\n                    onClick={togglePasswordVisibility1}\r\n                >\r\n                    {showPassword1 ? 'Hide' : 'Show'} {/* Toggle button text */}\r\n                </button>\r\n            </div>\r\n            \r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n        <div className='row'>\r\n        {otpVerified && (\r\n                    <button type=\"button\" class=\"btn btn-warning m-4\" onClick={handleSubmit}>\r\n                            Submit\r\n                    </button>\r\n                )} \r\n        </div>\r\n                    <br/>\r\n        <div className='container'>\r\n            <div className='row'>\r\n            <div className='col-6 m-4'>\r\n                      {otpSent && !otpVerified && (\r\n                        <>\r\n                        <label className='px-1'>\r\n                            Enter OTP:  <input type=\"text\" name=\"otp\" />\r\n                        </label>\r\n                        <button type=\"button\" onClick={handleVerifyOTP} class=\"btn btn-warning mx-2\">\r\n                            Verify OTP\r\n                        </button>\r\n                        </>\r\n                    )}\r\n            </div>\r\n                <div className='col-lg-5 m-4'>\r\n                {!otpVerified && (\r\n                    <>\r\n                        <button\r\n                        type=\"button\"\r\n                        onClick={otpSent ? handleResendOTP : handleSendOTP}\r\n                        disabled={resendCooldown > 0}\r\n                        className=\"btn btn-warning mx-2\"\r\n                        >\r\n                        {otpSent ? 'Resend OTP' : 'Send OTP'}\r\n                        </button>\r\n                        {resendCooldown > 0 && <p>Resend cooldown: {resendCooldown} seconds</p>}\r\n                    </>\r\n                    )}\r\n                </div>\r\n  \r\n            </div> \r\n        </div>  \r\n        <div className='container'>\r\n            <div className='row col-10'>\r\n     \r\n            </div>\r\n   \r\n        </div>\r\n      </form>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default AddAdminUser"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}